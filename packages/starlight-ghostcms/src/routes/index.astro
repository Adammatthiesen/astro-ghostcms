---
//import type { InferGetStaticPropsType } from 'astro'
import config from 'virtual:starlight-ghost-config'

import Page from '../components/Page.astro'
import Posts from '../components/Posts.astro'
//import PrevNextLinks from '../components/PrevNextLinks.astro'
import { getPageProps } from '../utils/page'
import { getAllPosts } from '../utils/api'

export const prerender = true
const entries = await getAllPosts();


//const { entries, nextLink, prevLink } = Astro.props

const pageProps = getPageProps(config.title)
---

<Page {...pageProps}>
  {config.supportGhost && (
    <div id="pghost">Powered by <a href="https://ghost.org">Ghost</a></div>
  )}
  <Posts {entries} />
  <footer class="not-content">
    <!--PrevNextLinks next={nextLink} prev={prevLink} /-->
  </footer>
</Page>

<style>
  :global(.content-panel:first-of-type) {
    display: none;
  }

  :global(.content-panel:nth-of-type(2)) {
    border-top: none;
  }

  #pghost {
    color: gray;
    margin-top: -1rem;
    margin-bottom: -0.5rem;
  }
  #pghost a {
    color: gray;
  }


</style>